{% extends "admin/baseadmin.html" %}

{% block title %}Manage Bhog | Admin{% endblock %}

{% block content %}
<div>
    <!-- BREADCRUMB -->
    <nav aria-label="breadcrumb" class="mb-3">
        <ol class="breadcrumb spiritual-breadcrumb">
            <li class="breadcrumb-item">
                <a href="{{ url_for('bhog.index') }}">Home</a>
            </li>
            <li class="breadcrumb-item">
                <a href="{{ url_for('admin.dashboard') }}">Admin</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
                Manage Bhog
            </li>
        </ol>
    </nav>
</div>

<!-- TITLE + ADD BUTTON -->
<div class="d-flex justify-content-between align-items-center my-5">
    <h2 class="section-title">Manage Bhog</h2>

    <a href="{{ url_for('admin.add_bhog') }}" class="btn btn-spiritual">
        + Add Bhog
    </a>
</div>

<!-- TABLE -->
<div class="table-responsive">

  <table class="table table-dark table-hover align-middle spiritual-table">

    <thead>
      <tr>
        <th>ID</th>
        <th>Bhog ID</th>
        <th>Name</th>
        <th>Description</th>
        <th>Status</th>
        <th>Edit</th>
        <th>View Details</th>
        <th>Delete</th>
      </tr>
    </thead>

    <tbody>

      {% for bhog in bhog %}
      <tr>

        <!-- ID -->
        <td>{{ bhog.bid }}</td>

        <!-- Bhog ID -->
        <td>{{ bhog.bhog_id }}</td>

        <!-- Name -->
        <td>{{ bhog.bhog_title }}</td>

        <!-- Description -->
        <td>
            {{ bhog.bhog_description[:40] }}...
        </td>

        <!-- Status -->
        <td>

        {{bhog.status}}

        </td>

        <!-- Edit -->
        <td>

          <a href="{{ url_for('admin.edit_bhog', bid=bhog.bid) }}"
             class="btn btn-info btn-sm">
             Edit
          </a>

        </td>

        <!-- View -->
        <td>

          <a href="{{ url_for('bhog.view_bhog', bhog_id=bhog.bhog_id) }}"
             class="btn btn-primary btn-sm">
             View
          </a>

        </td>

        <!-- Delete -->
        <td>

          <button class="btn btn-danger btn-sm"
                  onclick="confirmDelete('{{ bhog.bid }}')">

            Delete

          </button>

        </td>

      </tr>

      {% endfor %}

    </tbody>

  </table>

</div>


<!-- DELETE CONFIRMATION SCRIPT -->
<script>

function confirmDelete(id)
{

    if (confirm("âš  Are you sure you want to delete this Bhog?"))
    {

        if (confirm("This action CANNOT be undone. Delete permanently?"))
        {

            window.location.href = `/admin/delete_bhog/${id}`;

        }

    }

}

</script>

{% endblock %}